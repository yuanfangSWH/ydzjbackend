(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3934cb79"],{"1fd3":function(t,e,a){},b6cb:function(t,e,a){"use strict";var s=a("1fd3"),i=a.n(s);i.a},e1b7:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shopSet"},[a("div",{staticClass:"box2"},[a("div",{staticClass:"page-title"},[t._v(t._s(this._getVuex("pageTitle")))]),a("div",{staticClass:"add-box2"},[t.isPass?a("div",{staticClass:"btn-nav"},[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.batcDdelFun(1,0)}}},[t._v("通过")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.batcDdelFun(2,0)}}},[t._v("不通过")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toRecycle}},[t._v("查看不通过")])],1):a("div",{staticClass:"btn-nav"},[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.batcDdelFun(1,0)}}},[t._v("通过")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toBack}},[t._v("返回")])],1),a("div",{staticClass:"so-nav"},[a("el-input",{staticClass:"so-ipt",attrs:{placeholder:"请输入内容/用户ID/手机号",clearable:""},on:{change:t.searchDatas},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),a("el-button",{staticClass:"sosuo",attrs:{type:"danger"},on:{click:t.searchDatas}},[t._v("搜索")])],1)]),a("el-table",{ref:"multipNum",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableListData,"tooltip-effect":"dark"},on:{"selection-change":t.selectItem,"sort-change":t.sortFilterFun}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"ID",width:"100",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.comment_id))])]}}])}),a("el-table-column",{attrs:{prop:"user",label:"评论用户",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.user?a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(a){return t.userInformation(e.row)}}},[a("el-image",{staticStyle:{width:"30px",height:"30px","border-radius":"100%"},attrs:{fit:"fill",src:e.row.user.avatar}}),a("div",{staticStyle:{flex:"1","margin-left":"5px"}},[t._v(" "+t._s(e.row.user.nickname)+"（"),1==e.row.user.gender?a("span",[t._v("男")]):a("span",[t._v("女")]),t._v("/"+t._s(e.row.user.age)+"岁） ")])],1):t._e()]}}])}),a("el-table-column",{attrs:{prop:"content",label:"评论内容",width:"200",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.content,placement:"bottom",disabled:t.getShow(e.row.content)}},[a("div",[t._v(t._s(t.getAgent(e.row.content)))])])]}}])}),a("el-table-column",{attrs:{prop:"reply_count",label:"回复",width:"100"}}),a("el-table-column",{attrs:{prop:"like_count",label:"点赞",width:"100"}}),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间"}}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.isPass?a("div",[3==e.row.status?a("div",[a("el-button",{staticClass:"t01",attrs:{size:"mini",type:"text"},on:{click:function(a){return t.passFun(e.row.comment_id,1,1)}}},[t._v("通过")]),a("el-button",{staticClass:"t02",attrs:{size:"mini",type:"text"},on:{click:function(a){return t.passFun(e.row.comment_id,2,1)}}},[t._v("不通过")])],1):t._e(),1==e.row.status?a("div",{staticStyle:{"font-size":"14px"}},[t._v("已通过")]):t._e()]):a("div",[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.passFun(e.row.comment_id,1,1)}}},[t._v("通过")])],1)]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"hide-on-single-page":!0,"current-page":t.curPage,"page-sizes":[10,20,30],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)],1),a("el-dialog",{attrs:{title:"用户信息",visible:t.usertx,width:"70%"},on:{"update:visible":function(e){t.usertx=e}}},[a("userBounced",{ref:"userBounced"})],1),t.showBack?a("goBack"):t._e()],1)},i=[],n=(a("4160"),a("a9e3"),a("159b"),{name:"commentlist",data:function(){return{pagesize:10,showBack:!1,user_id:"",userDialogTK:!1,threadDialogTK:!1,UserGiftShop:"",statusSH:"",status:"1,3",statusData:[{id:0,name:"删除"},{id:1,name:"正常"},{id:2,name:"违规"},{id:3,name:"待审核"}],comment_level:"",comment_levelData:[{id:1,name:"一级"},{id:2,name:"二级"}],updateDialog:!1,insertDialog:!1,mutilDeleteDialog:!1,deleteDialog:!1,curPage:1,total:1,curPage2:1,tableListData:[],addItem:{},currenItem:{},currenDeleteRow:"",multipleSelection:[],nameArr:[],updateDialogTitle:"",deltitle:"",searchValue:"",thread_id:"",titleData:"",threadData:"",usertx:!1,sortVal:"",sortStatus:!1,order:"",isPass:!0}},created:function(){if(this.showBack=!!this.$route.query.from,this.$route.query.thread_id)this.thread_id=Number(this.$route.query.thread_id),this.$store.dispatch("updateVuex",{key:"merchantsData",value:{thread_id:this.thread_id}});else{var t=this.$store.state.merchantsData;this.thread_id=Number(t.thread_id)}this.titleData=this.$store.state.title,this.getTableList()},methods:{getAgent:function(t){return t.length>20?t.substring(0,20)+" ...":t},getShow:function(t){return!(t.length>20)},sortMethod:function(t){this.sortVal=t,this.sortStatus=!this.sortStatus,this.sortStatus?this.order="asc":this.order="desc",this.getTableList()},sortFilterFun:function(t){this.sortMethod(t.prop)},threaddetailDialog:function(t){var e=this,a={thread_id:t};this.api.community.threaddetail(a).then((function(t){e.threadData=t.data.data}))},commentDialog:function(t){this.$router.push({path:"/commentreply",query:{thread_id:this.thread_id,comment_id:t.comment_id,cursor:t.last_reply.cursor}})},userInformation:function(t){var e=this;this.usertx=!0,setTimeout((function(){e.$refs.userBounced.addID(t.user_id)}),0)},getTableList:function(){var t=this,e={status:this.status,keyword:this.searchValue,page:this.curPage,page_size:this.pagesize};this.api.community.onlyCommunity(e).then((function(e){t.tableListData=e.data.data,t.total=e.data.count}))},searchDatas:function(){this.curPage=1,this.getTableList()},selectItem:function(t){var e=this;this.multipleSelection=[],this.nameArr=[],t.forEach((function(t,a){e.multipleSelection.push(t.comment_id),e.nameArr.push(t.comment_id)}))},batcDdelFun:function(t,e){""!=this.multipleSelection?this.passFun(this.multipleSelection,t,e):this.$message({message:"请先勾选要审核的数据",type:"warning"})},oneDel:function(t,e){this.delFun(t,e)},delFun:function(t,e){var a=this,s={};s=1==e?{comment_id:t}:{comment_id:[t]},this.api.community.delHandles(s).then((function(t){a.$message({message:""+t.data.msg,type:"success"}),a.getTableList()}))},goback:function(){this.$router.push({path:"/threadlistList"})},pageChange:function(t){this.curPage=t,this.getTableList()},passFun:function(t,e,a){var s=this,i={};i=0==a?{id:t,status:e}:{id:[t],status:e},this.api.community.communityAudit(i).then((function(t){s.$message({message:""+t.data.msg,type:"success"}),s.getTableList()}))},toRecycle:function(){this.isPass=!1,this.status="2",this.curPage=1,this.getTableList()},toBack:function(){this.isPass=!0,this.status="1,3",this.curPage=1,this.getTableList()},handleSizeChange:function(t){this.pagesize=Number(t),this.getTableList()}}}),r=n,o=(a("b6cb"),a("2877")),l=Object(o["a"])(r,s,i,!1,null,"be7f1c4a",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-3934cb79.a305b750.js.map