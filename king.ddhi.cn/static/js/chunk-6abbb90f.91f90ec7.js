(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6abbb90f"],{"8be7":function(t,e,a){"use strict";var i=a("e767"),s=a.n(i);s.a},"98b4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shopSet"},[a("div",{staticClass:"pageTitle"},[t._v(t._s(this._getVuex("pageTitle")))]),a("div",{staticClass:"shanxdiv"},[a("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"管理员ID/手机号",clearable:""},model:{value:t.searchOption.admin,callback:function(e){t.$set(t.searchOption,"admin",e)},expression:"searchOption.admin"}}),a("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"设备",clearable:""},model:{value:t.searchOption.agnet,callback:function(e){t.$set(t.searchOption,"agnet",e)},expression:"searchOption.agnet"}}),a("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"IP",clearable:""},model:{value:t.searchOption.ip,callback:function(e){t.$set(t.searchOption,"ip",e)},expression:"searchOption.ip"}}),a("el-date-picker",{staticClass:"datePicker",attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm"},on:{change:t.dateChange},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.screening}},[t._v("筛选")]),a("el-button",{attrs:{type:"info"},on:{click:t.resetData}},[t._v("清空条件")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipNum",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableListData,"tooltip-effect":"dark"},on:{"sort-change":t.handleDataSort}},[a("el-table-column",{attrs:{prop:"login_time",label:"登录时间",width:"180",sortable:"true"}}),a("el-table-column",{attrs:{prop:"admin_name",label:"管理员"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.admin_name))]),a("div",[t._v(t._s(e.row.admin_phone))])]}}])}),a("el-table-column",{attrs:{prop:"os_ver",label:"系统"}}),a("el-table-column",{attrs:{prop:"user_agent",label:"设备"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.user_agent,placement:"bottom"}},[a("div",[t._v(t._s(t.getAgent(e.row.user_agent)))])])]}}])}),a("el-table-column",{attrs:{prop:"ip",label:"登录地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.ip))]),a("div")]}}])}),a("el-table-column",{attrs:{prop:"content",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.status_desc)+" ")]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.searchOption.page,"hide-on-single-page":!0,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.pageChange}})],1),a("el-dialog",{attrs:{title:"详情信息",visible:t.detailsDialog,width:"50%"},on:{"update:visible":function(e){t.detailsDialog=e}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{"v-model":t.detailsData,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"日志ID："}},[t._v(" "+t._s(t.detailsData.log_id)+" ")]),a("el-form-item",{attrs:{label:"管理员："}},[t._v(" "+t._s(t.detailsData.AdminName)+" (ID："+t._s(t.detailsData.admin_id)+") ")]),a("el-form-item",{attrs:{label:"IP："}},[t._v(" "+t._s(t.detailsData.log_ip)+" ")]),a("el-form-item",{attrs:{label:"操作时间："}},[t._v(" "+t._s(t.detailsData.log_time)+" ")]),a("el-form-item",{attrs:{label:"操作内容："}},[t._v(" "+t._s(t.detailsData.log_content)+" ")]),a("el-form-item",{attrs:{label:"操作接口："}},[t._v(" "+t._s(t.detailsData.log_url)+" ")]),a("el-form-item",{attrs:{label:"POST参数内容："}},[a("div",{staticStyle:{width:"400px",height:"100px",overflow:"auto"}},[t._v(" "+t._s(t.detailsData.log_req_raw)+" ")])])],1)],1)],1)},s=[],n=(a("a9e3"),{name:"adminLogin",data:function(){return{searchOption:{admin:"",agnet:"",ip:"",order:"",sort:"",page:1,login_time_start:"",login_time_end:""},searchTime:["",""],detailsDialog:!1,total:1,tableListData:[],detailsData:{},loading:!1,sortableList:{ascending:"asc",descending:"desc",asc:"ascending",desc:"descending"},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]}}},created:function(){this.iniPageParam(),this.getTableList()},watch:{$route:function(t,e){this.iniPageParam(),this.getTableList()}},methods:{getAgent:function(t){return t.length>20?t.substring(0,20)+" ...":t},iniPageParam:function(){this.searchOption={admin:this.$route.query.admin,agnet:this.$route.query.agnet,ip:this.$route.query.ip,order:this.$route.query.order,sort:this.$route.query.sort,page:this.$route.query.page?Number(this.$route.query.page):1,login_time_start:this.$route.query.login_time_start,login_time_end:this.$route.query.login_time_end},this.searchTime[0]=this.$route.query.login_time_start?this.$route.query.login_time_start:"",this.searchTime[1]=this.$route.query.login_time_end?this.$route.query.login_time_end:""},handleDataSort:function(t){this.searchOption.sort=t.order?t.prop:"",this.searchOption.order=t.order?this.sortableList[t.order]:"",this.searchOption.page=1,this.pageChange()},dateChange:function(t){t&&(this.searchOption.login_time_start=t[0],this.searchOption.login_time_end=t[1])},resetData:function(){this.searchOption={admin:"",agnet:"",ip:"",order:"",sort:"",page:1,login_time_start:"",login_time_end:""},this.searchTime=["",""],this.getTableList()},screening:function(){this.searchOption.page=1,this.pageChange()},getTableList:function(){var t=this,e=this.searchOption;this.api.system.AdminLogin(e).then((function(e){t.tableListData=e.data.data,t.total=e.data.count}))},detailsDelDialog:function(t){this.detailsData=t,this.detailsDialog=!0},pageChange:function(t){t&&(this.searchOption.page=t),this.searchTime||(this.searchTime=["",""],this.searchOption.login_time_start=this.searchTime[0],this.searchOption.login_time_end=this.searchTime[1]),this.$router.push({path:"/adminLogin",query:this.searchOption})}}}),r=n,o=(a("8be7"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"d08bd2a0",null);e["default"]=l.exports},e767:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6abbb90f.91f90ec7.js.map