(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e50a2ed2"],{"1f6b":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shopSet"},[a("div",{staticClass:"pageTitle"},[t._v(t._s(this._getVuex("pageTitle")))]),a("div",{staticClass:"add-box"},[a("el-button",{attrs:{type:"danger"},on:{click:t.batchDelete}},[t._v("批量审核")]),a("el-input",{staticClass:"searchInput",attrs:{placeholder:"请输入要搜索的内容","prefix-icon":"el-icon-search"},on:{change:t.searchDatas},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),a("div",{staticClass:"shanxdiv"},[a("el-input",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{placeholder:"用户ID"},model:{value:t.user_id,callback:function(e){t.user_id=e},expression:"user_id"}}),a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"评论等级"},model:{value:t.comment_level,callback:function(e){t.comment_level=e},expression:"comment_level"}},t._l(t.comment_levelData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择状态"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statusData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),a("el-button",{attrs:{type:"primary"},on:{click:t.screening}},[t._v("筛选")]),a("el-button",{attrs:{type:"info"},on:{click:t.resetData}},[t._v("重置")])],1),a("el-table",{ref:"multipNum",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableListData,"tooltip-effect":"dark"},on:{"selection-change":t.selectItem}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"全选/评论ID",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.comment_id))])]}}])}),a("el-table-column",{attrs:{label:"主题标题",width:"300"}},[t._v(" "+t._s(t.titleData)+" ")]),a("el-table-column",{attrs:{prop:"user.nickname",label:"用户昵称",width:"200"}}),a("el-table-column",{attrs:{label:"评论等级",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.comment_level?a("span",[t._v("一级")]):2==e.row.comment_level?a("span",[t._v("二级")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"content",label:"评论内容",width:"400"}}),a("el-table-column",{attrs:{prop:"like_count",label:"喜欢数",width:"150"}}),a("el-table-column",{attrs:{prop:"reply_count",label:"回复数",width:"150"}}),a("el-table-column",{attrs:{prop:"create_time",label:"发布时间",width:"150"}}),a("el-table-column",{attrs:{label:"是否喜欢",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.is_like?a("span",[t._v("不喜欢")]):1==e.row.is_like?a("span",[t._v("喜欢")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"是否作者",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.is_author?a("span",[t._v("否")]):1==e.row.is_author?a("span",[t._v("是")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"是否置顶",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.is_top?a("span",[t._v("否")]):1==e.row.is_top?a("span",[t._v("是")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("span",[t._v("删除")]):1==e.row.status?a("span",[t._v("正常")]):2==e.row.status?a("span",[t._v("违规")]):3==e.row.status?a("span",[t._v("待审核")]):t._e()]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.userDialog(e.row.user)}}},[t._v("用户信息")]),e.row.last_reply?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.threadDialog(e.row.last_reply)}}},[t._v("帖子信息")]):t._e()],1),a("div",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.openDelDialog(e.row)}}},[t._v("审核回复")]),e.row.last_reply?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.commentDialog(e.row.last_reply)}}},[t._v("回复列表")]):t._e()],1)]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.curPage,"hide-on-single-page":!0,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.pageChange}})],1),a("el-dialog",{attrs:{title:"新增",visible:t.insertDialog},on:{"update:visible":function(e){t.insertDialog=e}}},[a("el-form",{ref:"formName1",staticClass:"updateArea",attrs:{model:t.addItem,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"员工名称",prop:"staff_name"}},[a("el-input",{model:{value:t.addItem.staff_name,callback:function(e){t.$set(t.addItem,"staff_name",e)},expression:"addItem.staff_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.insertDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.validation("formName1")}}},[t._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"修改-"+t.updateDialogTitle,visible:t.updateDialog},on:{"update:visible":function(e){t.updateDialog=e}}},[a("el-form",{ref:"formName2",staticClass:"updateArea",attrs:{model:t.currenItem,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"员工名称",prop:"staff_name"}},[a("el-input",{model:{value:t.currenItem.staff_name,callback:function(e){t.$set(t.currenItem,"staff_name",e)},expression:"currenItem.staff_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.updateDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.validation("formName2")}}},[t._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"审核-"+t.deltitle,visible:t.deleteDialog,width:"30%"},on:{"update:visible":function(e){t.deleteDialog=e}}},[a("span",[t._v("确定要审核此项吗")]),a("div",{staticStyle:{"padding-top":"20px"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.statusSH,callback:function(e){t.statusSH=e},expression:"statusSH"}},t._l(t.statusData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.deleteItem("one")}}},[t._v("确定")])],1)]),a("el-dialog",{attrs:{title:"审核",visible:t.mutilDeleteDialog,width:"50%"},on:{"update:visible":function(e){t.mutilDeleteDialog=e}}},[a("span",{staticClass:"s-title"},[t._v("确定要审核以下内容吗?")]),t._l(t.nameArr,(function(e,l){return a("div",{key:l,staticClass:"gz-name"},[t._v(" "+t._s(e)+" ")])})),a("div",{staticStyle:{"padding-top":"20px"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.statusSH,callback:function(e){t.statusSH=e},expression:"statusSH"}},t._l(t.statusData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.mutilDeleteDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.deleteItem("mutil")}}},[t._v("确定")])],1)],2),a("el-dialog",{attrs:{title:"",visible:t.userDialogTK,width:"30%"},on:{"update:visible":function(e){t.userDialogTK=e}}},[a("el-form",{staticClass:"updateArea",attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"用户id"}},[t._v(" "+t._s(t.UserGiftShop.user_id)+" ")]),a("el-form-item",{attrs:{label:"昵称"}},[t._v(" "+t._s(t.UserGiftShop.nickname)+" ")]),a("el-form-item",{attrs:{label:"等级"}},[t._v(" "+t._s(t.UserGiftShop.level)+" ")]),a("el-form-item",{attrs:{label:"头像"}},[a("el-image",{attrs:{src:t.UserGiftShop.avatar}})],1),a("el-form-item",{attrs:{label:"年龄"}},[t._v(" "+t._s(t.UserGiftShop.age)+" ")]),a("el-form-item",{attrs:{label:"生肖"}},[t._v(" "+t._s(t.UserGiftShop.zodiac)+" ")]),a("el-form-item",{attrs:{label:"星座"}},[t._v(" "+t._s(t.UserGiftShop.constellation)+" ")]),a("el-form-item",{attrs:{label:"签名"}},[t._v(" "+t._s(t.UserGiftShop.signature)+" ")]),a("el-form-item",{attrs:{label:"性别"}},[0==t.UserGiftShop.gender?a("span",[t._v("女")]):1==t.UserGiftShop.gender?a("span",[t._v("男")]):t._e()]),a("el-form-item",{attrs:{label:"车辆"}},[t._v(" "+t._s(t.UserGiftShop.car)+" ")]),a("el-form-item",{attrs:{label:"最后活动时间"}},[t._v(" "+t._s(t.UserGiftShop.last_time)+" ")]),a("el-form-item",{attrs:{label:"是否可见"}},[0==t.UserGiftShop.visible?a("span",[t._v("隐身")]):1==t.UserGiftShop.visible?a("span",[t._v("可见")]):t._e()])],1)],1),a("el-dialog",{attrs:{title:"",visible:t.threadDialogTK,width:"30%"},on:{"update:visible":function(e){t.threadDialogTK=e}}},[a("el-form",{staticClass:"updateArea",attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"评论ID"}},[t._v(" "+t._s(t.UserGiftShop.comment_id)+" ")]),a("el-form-item",{attrs:{label:"主题ID"}},[t._v(" "+t._s(t.UserGiftShop.thread_id)+" ")]),a("el-form-item",{attrs:{label:"用户ID"}},[t._v(" "+t._s(t.UserGiftShop.user_id)+" ")]),a("el-form-item",{attrs:{label:"顶级评论id"}},[t._v(" "+t._s(t.UserGiftShop.root_id)+" ")]),a("el-form-item",{attrs:{label:"上级评论id"}},[t._v(" "+t._s(t.UserGiftShop.parent_id)+" ")]),a("el-form-item",{attrs:{label:"评论等级"}},[1==t.UserGiftShop.comment_level?a("span",[t._v("一级")]):2==t.UserGiftShop.comment_level?a("span",[t._v("二级")]):t._e()]),a("el-form-item",{attrs:{label:"评论内容"}},[t._v(" "+t._s(t.UserGiftShop.content)+" ")]),a("el-form-item",{attrs:{label:"喜欢数"}},[t._v(" "+t._s(t.UserGiftShop.like_count)+" ")]),a("el-form-item",{attrs:{label:"回复数"}},[t._v(" "+t._s(t.UserGiftShop.reply_count)+" ")]),a("el-form-item",{attrs:{label:"是否喜欢"}},[0==t.UserGiftShop.is_like?a("span",[t._v("否")]):1==t.UserGiftShop.is_like?a("span",[t._v("是")]):t._e()]),a("el-form-item",{attrs:{label:"是否作者"}},[0==t.UserGiftShop.is_author?a("span",[t._v("否")]):1==t.UserGiftShop.is_author?a("span",[t._v("是")]):t._e()]),a("el-form-item",{attrs:{label:"发布时间"}},[t._v(" "+t._s(t.UserGiftShop.create_time)+" ")]),a("el-form-item",{attrs:{label:"是否置顶"}},[0==t.UserGiftShop.is_top?a("span",[t._v("否")]):1==t.UserGiftShop.is_top?a("span",[t._v("是")]):t._e()])],1),t.UserGiftShop.user?a("div",{staticClass:"tiendiv"},[a("el-form",{staticClass:"updateArea",attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"用户id"}},[t._v(" "+t._s(t.UserGiftShop.user.user_id)+" ")]),a("el-form-item",{attrs:{label:"昵称"}},[t._v(" "+t._s(t.UserGiftShop.user.nickname)+" ")]),a("el-form-item",{attrs:{label:"等级"}},[t._v(" "+t._s(t.UserGiftShop.user.level)+" ")]),a("el-form-item",{attrs:{label:"头像"}},[a("el-image",{attrs:{src:t.UserGiftShop.user.avatar}})],1),a("el-form-item",{attrs:{label:"年龄"}},[t._v(" "+t._s(t.UserGiftShop.user.age)+" ")]),a("el-form-item",{attrs:{label:"生肖"}},[t._v(" "+t._s(t.UserGiftShop.user.zodiac)+" ")]),a("el-form-item",{attrs:{label:"星座"}},[t._v(" "+t._s(t.UserGiftShop.user.constellation)+" ")]),a("el-form-item",{attrs:{label:"签名"}},[t._v(" "+t._s(t.UserGiftShop.user.signature)+" ")]),a("el-form-item",{attrs:{label:"性别"}},[0==t.UserGiftShop.user.gender?a("span",[t._v("女")]):1==t.UserGiftShop.user.gender?a("span",[t._v("男")]):t._e()]),a("el-form-item",{attrs:{label:"车辆"}},[t._v(" "+t._s(t.UserGiftShop.user.car)+" ")]),a("el-form-item",{attrs:{label:"最后活动时间"}},[t._v(" "+t._s(t.UserGiftShop.user.last_time)+" ")]),a("el-form-item",{attrs:{label:"是否可见"}},[0==t.UserGiftShop.user.visible?a("span",[t._v("隐身")]):1==t.UserGiftShop.user.visible?a("span",[t._v("可见")]):t._e()])],1)],1):t._e()],1)],1)},s=[],i=(a("4160"),a("a9e3"),a("159b"),{name:"commentlist",data:function(){return{user_id:"",userDialogTK:!1,threadDialogTK:!1,UserGiftShop:"",statusSH:"",status:"",statusData:[{id:0,name:"删除"},{id:1,name:"正常"},{id:2,name:"违规"},{id:3,name:"待审核"}],comment_level:"",comment_levelData:[{id:1,name:"一级"},{id:2,name:"二级"}],updateDialog:!1,insertDialog:!1,mutilDeleteDialog:!1,deleteDialog:!1,curPage:1,total:1,curPage2:1,tableListData:[],addItem:{},currenItem:{},currenDeleteRow:"",multipleSelection:[],nameArr:[],updateDialogTitle:"",deltitle:"",searchValue:"",thread_id:"",comment_id:"",cursor:"",titleData:""}},created:function(){this.thread_id=Number(this.$route.query.thread_id),this.comment_id=Number(this.$route.query.comment_id),this.cursor=Number(this.$route.query.cursor),this.titleData=this.$store.state.title,this.getTableList()},methods:{commentDialog:function(t){this.comment_level="",this.user_id="",this.status="",this.curPage=1,this.cursor=t.cursor,this.getTableList()},userDialog:function(t){this.UserGiftShop=t,this.userDialogTK=!0},threadDialog:function(t){this.UserGiftShop=t,this.threadDialogTK=!0},resetData:function(){this.comment_level="",this.user_id="",this.status="",this.curPage=1,this.getTableList()},screening:function(){this.curPage=1,this.getTableList()},getTableList:function(){var t=this,e={thread_id:this.thread_id,comment_id:this.comment_id,cursor:this.cursor,comment_level:this.comment_level,user_id:this.user_id,status:this.status,keyword:this.searchValue,page:this.curPage};this.api.community.commentreply(e).then((function(e){t.tableListData=e.data.data,t.total=e.data.count}))},searchDatas:function(){this.curPage=1,this.getTableList()},validation:function(t){var e=this;this.$refs[t].validate((function(a){if(!a)return!1;"formName1"==t?e.insertItem():e.multiUpdate()}))},insertItemtk:function(){this.insertDialog=!0},insertItem:function(){},openUpdateDialog:function(t){this.updateDialog=!0,this.updateDialogTitle=t.staff_name},multiUpdate:function(){},batchDelete:function(){""!=this.multipleSelection?this.mutilDeleteDialog=!0:this.$message({message:"请先勾选要审核的数据",type:"warning"})},openDelDialog:function(t){this.deltitle=t.content,this.currenDeleteRow=t,this.deleteDialog=!0},selectItem:function(t){var e=this;this.multipleSelection=[],this.nameArr=[],t.forEach((function(t,a){e.multipleSelection.push(t.comment_id),e.nameArr.push(t.content)}))},deleteItem:function(t){var e=this;if(""!=this.statusSH){var a=new Array;a.push(this.currenDeleteRow.comment_id);var l="one"===t?a:this.multipleSelection,s={comment_id:l,status:this.statusSH};this.api.community.GiftInsert(s).then((function(t){e.$message({message:"审核成功",type:"success"}),e.getTableList(),e.statusSH="",e.mutilDeleteDialog=!1,e.deleteDialog=!1}))}else this.$message({message:"请选择要改变的状态",type:"warning"})},pageChange:function(t){this.curPage=t,this.getTableList()}}}),r=i,o=(a("cbc0"),a("2877")),n=Object(o["a"])(r,l,s,!1,null,"dc4e89f0",null);e["default"]=n.exports},"8dd3":function(t,e,a){},cbc0:function(t,e,a){"use strict";var l=a("8dd3"),s=a.n(l);s.a}}]);
//# sourceMappingURL=chunk-e50a2ed2.9b4a4ac9.js.map