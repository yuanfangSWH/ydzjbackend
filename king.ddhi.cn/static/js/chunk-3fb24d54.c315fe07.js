(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fb24d54"],{cfe9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shopSet"},[a("div",{staticClass:"pageTitle"},[e._v(e._s(this._getVuex("pageTitle")))]),a("div",{staticClass:"add-box"},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.MessageIs,expression:"MessageIs"}],staticStyle:{"margin-right":"10px",width:"200px"},attrs:{placeholder:"输入用户ID"},model:{value:e.user_id,callback:function(t){e.user_id=t},expression:"user_id"}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"system"==e.activeName,expression:"activeName == 'system'"}],staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择类型"},model:{value:e.typeSystem,callback:function(t){e.typeSystem=t},expression:"typeSystem"}},e._l(e.optionSystem,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"order"==e.activeName,expression:"activeName == 'order'"}],staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择类型"},model:{value:e.typeOrder,callback:function(t){e.typeOrder=t},expression:"typeOrder"}},[e._l(e.optionOrder,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v("- ")],2),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"interact"==e.activeName,expression:"activeName == 'interact'"}],staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择类型"},model:{value:e.typeInteract,callback:function(t){e.typeInteract=t},expression:"typeInteract"}},e._l(e.optionInteract,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"activity"==e.activeName,expression:"activeName == 'activity'"}],staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择类型"},model:{value:e.typeActivity,callback:function(t){e.typeActivity=t},expression:"typeActivity"}},e._l(e.optionActivity,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-button",{attrs:{type:"primary"},on:{click:e.screening}},[e._v("筛选")]),a("el-button",{attrs:{type:"info"},on:{click:e.resetData}},[e._v("重置")]),a("el-button",{attrs:{type:"danger"},on:{click:e.batchDelete}},[e._v("批量删除")]),a("el-input",{staticClass:"searchInput",attrs:{placeholder:"请输入要搜索的内容","prefix-icon":"el-icon-search"},on:{change:e.searchDatas},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),a("div",{staticClass:"shanxdiv"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"系统消息通知",name:"system"}}),a("el-tab-pane",{attrs:{label:"订单消息通知",name:"order"}}),a("el-tab-pane",{attrs:{label:"互动消息通知",name:"interact"}}),a("el-tab-pane",{attrs:{label:"活动消息通知",name:"activity"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"system"==e.activeName,expression:"activeName == 'system'"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.systemData,"tooltip-effect":"dark"},on:{"selection-change":e.selectItem}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"全选/消息ID",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.msg_id))])]}}])}),a("el-table-column",{attrs:{prop:"user_id",label:"用户ID",width:"100"}}),a("el-table-column",{attrs:{prop:"from_user_id",label:"来自用户ID",width:"100"}}),a("el-table-column",{attrs:{label:"类型",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?a("span",[e._v("预订")]):2==t.row.type?a("span",[e._v("下单")]):3==t.row.type?a("span",[e._v("充值")]):4==t.row.type?a("span",[e._v("团购")]):5==t.row.type?a("span",[e._v("排队")]):6==t.row.type?a("span",[e._v("会员卡变动")]):7==t.row.type?a("span",[e._v("账单")]):8==t.row.type?a("span",[e._v("用户信息变动")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"300"}}),a("el-table-column",{attrs:{prop:"content",label:"内容",width:"400"}}),a("el-table-column",{attrs:{prop:"url",label:"链接",width:"300"}}),a("el-table-column",{attrs:{prop:"info_id",label:"业务ID",width:"100"}}),a("el-table-column",{attrs:{prop:"create_time",label:"消息时间",width:"250"}}),a("el-table-column",{attrs:{label:"是否已读",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_read?a("span",[e._v("否")]):1==t.row.is_read?a("span",[e._v("是")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.openDelDialog(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"order"==e.activeName,expression:"activeName == 'order'"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.orderData,"tooltip-effect":"dark"},on:{"selection-change":e.selectItem}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"全选/消息ID",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.msg_id))])]}}])}),a("el-table-column",{attrs:{prop:"user_id",label:"用户ID",width:"100"}}),a("el-table-column",{attrs:{prop:"from_user_id",label:"来自用户ID",width:"100"}}),a("el-table-column",{attrs:{label:"类型",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?a("span",[e._v("预订")]):2==t.row.type?a("span",[e._v("下单")]):3==t.row.type?a("span",[e._v("充值")]):4==t.row.type?a("span",[e._v("团购")]):5==t.row.type?a("span",[e._v("排队")]):6==t.row.type?a("span",[e._v("会员卡变动")]):7==t.row.type?a("span",[e._v("账单")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"300"}}),a("el-table-column",{attrs:{prop:"content",label:"内容",width:"400"}}),a("el-table-column",{attrs:{prop:"url",label:"链接",width:"300"}}),a("el-table-column",{attrs:{prop:"order_no",label:"订单号",width:"100"}}),a("el-table-column",{attrs:{prop:"info_id",label:"业务ID",width:"100"}}),a("el-table-column",{attrs:{prop:"create_time",label:"消息时间",width:"250"}}),a("el-table-column",{attrs:{label:"是否已读",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_read?a("span",[e._v("否")]):1==t.row.is_read?a("span",[e._v("是")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.openDelDialog(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"interact"==e.activeName,expression:"activeName == 'interact'"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.interactData,"tooltip-effect":"dark"},on:{"selection-change":e.selectItem}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"全选/消息ID",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.msg_id))])]}}])}),a("el-table-column",{attrs:{prop:"user_id",label:"用户ID",width:"100"}}),a("el-table-column",{attrs:{prop:"from_user_id",label:"来自用户ID",width:"100"}}),a("el-table-column",{attrs:{label:"类型",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?a("span",[e._v("点赞主题")]):2==t.row.type?a("span",[e._v("点赞评论")]):3==t.row.type?a("span",[e._v("主题评论")]):4==t.row.type?a("span",[e._v("评论回复")]):5==t.row.type?a("span",[e._v("@我")]):6==t.row.type?a("span",[e._v("关注")]):7==t.row.type?a("span",[e._v("点赞广播")]):8==t.row.type?a("span",[e._v("打招呼")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"300"}}),a("el-table-column",{attrs:{prop:"content",label:"内容",width:"400"}}),a("el-table-column",{attrs:{prop:"url",label:"链接",width:"300"}}),a("el-table-column",{attrs:{prop:"thread_id",label:"帖子ID",width:"100"}}),a("el-table-column",{attrs:{prop:"comment_id",label:"评论ID",width:"100"}}),a("el-table-column",{attrs:{prop:"create_time",label:"消息时间",width:"250"}}),a("el-table-column",{attrs:{label:"是否已读",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_read?a("span",[e._v("否")]):1==t.row.is_read?a("span",[e._v("是")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.openDelDialog(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"activity"==e.activeName,expression:"activeName == 'activity'"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.activityData,"tooltip-effect":"dark"},on:{"selection-change":e.selectItem}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"全选/消息ID",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.msg_id))])]}}])}),a("el-table-column",{attrs:{prop:"user_id",label:"用户ID",width:"100"}}),a("el-table-column",{attrs:{prop:"from_user_id",label:"来自用户ID",width:"100"}}),a("el-table-column",{attrs:{label:"类型",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?a("span",[e._v("有人报名拼桌")]):2==t.row.type?a("span",[e._v("拼桌报名审核通过")]):3==t.row.type?a("span",[e._v("拼桌报名审核不通过")]):4==t.row.type?a("span",[e._v("拼桌成功")]):5==t.row.type?a("span",[e._v("拼桌取消")]):6==t.row.type?a("span",[e._v("有人报名组局")]):7==t.row.type?a("span",[e._v("组局审核通过")]):8==t.row.type?a("span",[e._v("组局报名审核不通过")]):9==t.row.type?a("span",[e._v("组局成功")]):10==t.row.type?a("span",[e._v("组局取消")]):11==t.row.type?a("span",[e._v("邀请报名")]):12==t.row.type?a("span",[e._v("邀请组局")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"300"}}),a("el-table-column",{attrs:{prop:"content",label:"内容",width:"400"}}),a("el-table-column",{attrs:{prop:"url",label:"链接",width:"300"}}),a("el-table-column",{attrs:{prop:"cf_id",label:"拼桌ID",width:"100"}}),a("el-table-column",{attrs:{prop:"gp_id",label:"组局ID",width:"100"}}),a("el-table-column",{attrs:{prop:"create_time",label:"消息时间",width:"250"}}),a("el-table-column",{attrs:{label:"是否已读",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_read?a("span",[e._v("否")]):1==t.row.is_read?a("span",[e._v("是")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.openDelDialog(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.curPage,"hide-on-single-page":!0,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.pageChange}})],1),a("el-dialog",{attrs:{title:"删除-"+e.deltitle,visible:e.deleteDialog,width:"30%"},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("span",[e._v("确定要删除此项吗")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteItem("one")}}},[e._v("确定")])],1)]),a("el-dialog",{attrs:{title:"删除",visible:e.mutilDeleteDialog,width:"50%"},on:{"update:visible":function(t){e.mutilDeleteDialog=t}}},[a("span",{staticClass:"s-title"},[e._v("确定要删除以下内容吗?")]),e._l(e.nameArr,(function(t,i){return a("div",{key:i,staticClass:"gz-name"},[e._v(" "+e._s(t)+" ")])})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.mutilDeleteDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteItem("mutil")}}},[e._v("确定")])],1)],2)],1)},l=[],s=(a("4160"),a("a9e3"),a("159b"),{name:"UserMessage",data:function(){return{activeName:"system",user_id:"",typeSystem:"",optionSystem:[{id:1,name:"预订"},{id:2,name:"下单"},{id:3,name:"充值"},{id:4,name:"团购"},{id:5,name:"排队"},{id:6,name:"会员卡变动"},{id:7,name:"账单"},{id:8,name:"用户信息变动"}],typeOrder:"",optionOrder:[{id:1,name:"预订"},{id:2,name:"下单"},{id:3,name:"充值"},{id:4,name:"团购"},{id:5,name:"排队"},{id:6,name:"会员卡变动"},{id:7,name:"账单"}],typeInteract:"",optionInteract:[{id:1,name:"点赞主题"},{id:2,name:"点赞评论"},{id:3,name:"主题评论"},{id:4,name:"评论回复"},{id:5,name:"@我"},{id:6,name:"关注"},{id:7,name:"点赞广播"},{id:8,name:"打招呼"}],typeActivity:"",optionActivity:[{id:1,name:"有人报名拼桌"},{id:2,name:"拼桌报名审核通过"},{id:3,name:"拼桌报名审核不通过"},{id:4,name:"拼桌成功"},{id:5,name:"拼桌取消"},{id:6,name:"有人报名组局"},{id:7,name:"组局审核通过"},{id:8,name:"组局报名审核不通过"},{id:9,name:"组局成功"},{id:10,name:"组局取消"},{id:11,name:"邀请报名"},{id:12,name:"邀请组局"}],MessageIs:!0,mutilDeleteDialog:!1,deleteDialog:!1,curPage:1,total:1,systemData:[],orderData:[],interactData:[],activityData:[],currenDeleteRow:"",multipleSelection:[],nameArr:[],deltitle:"",searchValue:""}},created:function(){this.$route.query.user_id&&(this.MessageIs=!1,this.user_id=Number(this.$route.query.user_id)),this.systemList()},methods:{resetData:function(){this.MessageIs&&(this.user_id=""),this.typeSystem="",this.typeOrder="",this.typeInteract="",this.typeActivity="",this.curPage=1,this.handleClick()},screening:function(){this.curPage=1,this.handleClick()},handleClick:function(){"system"==this.activeName?this.systemList():"order"==this.activeName?this.orderList():"interact"==this.activeName?this.interactList():"activity"==this.activeName&&this.activityList()},systemList:function(){var e=this,t={user_id:this.user_id,type:this.typeSystem,is_read:this.is_read,content:this.searchValue,page:this.curPage};this.api.user.system(t).then((function(t){e.systemData=t.data.data,e.total=t.data.count}))},orderList:function(){var e=this,t={user_id:this.user_id,type:this.typeOrder,is_read:this.is_read,content:this.searchValue,page:this.curPage};this.api.user.order(t).then((function(t){e.orderData=t.data.data,e.total=t.data.count}))},interactList:function(){var e=this,t={user_id:this.user_id,type:this.typeInteract,is_read:this.is_read,content:this.searchValue,page:this.curPage};this.api.user.interact(t).then((function(t){e.interactData=t.data.data,e.total=t.data.count}))},activityList:function(){var e=this,t={user_id:this.user_id,type:this.typeActivity,is_read:this.is_read,content:this.searchValue,page:this.curPage};this.api.user.activity(t).then((function(t){e.activityData=t.data.data,e.total=t.data.count}))},searchDatas:function(){this.curPage=1,this.handleClick()},batchDelete:function(){""!=this.multipleSelection?this.mutilDeleteDialog=!0:this.$message({message:"请先勾选要删除的数据",type:"warning"})},openDelDialog:function(e){this.deltitle=e.title,this.currenDeleteRow=e,this.deleteDialog=!0},selectItem:function(e){var t=this;this.multipleSelection=[],this.nameArr=[],e.forEach((function(e,a){t.multipleSelection.push(e.msg_id),t.nameArr.push(e.title)}))},deleteItem:function(e){var t=new Array;t.push(this.currenDeleteRow.msg_id);var a="one"===e?t:this.multipleSelection,i={id:a};"system"==this.activeName?this.systemDelete(i):"order"==this.activeName?this.orderDelete(i):"interact"==this.activeName?this.interactDelete(i):"activity"==this.activeName&&this.activityDelete(i)},systemDelete:function(e){var t=this;this.api.user.systemDelete(e).then((function(e){t.$message({message:"删除成功",type:"success"}),t.handleClick(),t.mutilDeleteDialog=!1,t.deleteDialog=!1}))},orderDelete:function(e){var t=this;this.api.user.systemDelete(e).then((function(e){t.$message({message:"删除成功",type:"success"}),t.handleClick(),t.mutilDeleteDialog=!1,t.deleteDialog=!1}))},interactDelete:function(e){var t=this;this.api.user.systemDelete(e).then((function(e){t.$message({message:"删除成功",type:"success"}),t.handleClick(),t.mutilDeleteDialog=!1,t.deleteDialog=!1}))},activityDelete:function(e){var t=this;this.api.user.systemDelete(e).then((function(e){t.$message({message:"删除成功",type:"success"}),t.handleClick(),t.mutilDeleteDialog=!1,t.deleteDialog=!1}))},pageChange:function(e){this.curPage=e,this.handleClick()}}}),n=s,r=(a("d12f"),a("2877")),o=Object(r["a"])(n,i,l,!1,null,"06da631a",null);t["default"]=o.exports},d12f:function(e,t,a){"use strict";var i=a("feae"),l=a.n(i);l.a},feae:function(e,t,a){}}]);
//# sourceMappingURL=chunk-3fb24d54.c315fe07.js.map