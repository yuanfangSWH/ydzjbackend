(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-692c1cc2"],{c6e2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shopSet"},[a("div",{staticClass:"pageTitle"},[t._v(t._s(this._getVuex("pageTitle")))]),a("div",{staticClass:"add-box"},[a("el-input",{staticClass:"searchInput",attrs:{placeholder:"请输入要搜索的内容","prefix-icon":"el-icon-search"},on:{change:t.searchDatas},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),a("div",{staticClass:"shanxdiv"},[a("el-input",{staticClass:"ewmsou",staticStyle:{width:"200px"},attrs:{placeholder:"请输入商家ID"},model:{value:t.merchant_id,callback:function(e){t.merchant_id=e},expression:"merchant_id"}}),a("el-input",{staticClass:"ewmsou",staticStyle:{width:"200px"},attrs:{placeholder:"请输入店铺ID"},model:{value:t.shop_id,callback:function(e){t.shop_id=e},expression:"shop_id"}}),a("el-input",{staticClass:"ewmsou",attrs:{placeholder:"请输入手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),a("el-date-picker",{staticClass:"datePicker",staticStyle:{"margin-right":"10px"},attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm"},on:{change:t.dateChange},model:{value:t.SJvalue,callback:function(e){t.SJvalue=e},expression:"SJvalue"}}),a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"选择状态"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statusData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"选择排序"},model:{value:t.order,callback:function(e){t.order=e},expression:"order"}},t._l(t.orderData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1),a("el-button",{attrs:{type:"primary"},on:{click:t.screening}},[t._v("筛选")]),a("el-button",{attrs:{type:"info"},on:{click:t.resetData}},[t._v("重置")])],1),a("el-table",{ref:"multipNum",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableListData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"reserve_id",label:"预订ID",width:"150"}}),a("el-table-column",{attrs:{prop:"order_no",label:"订单号",width:"200"}}),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.gender?a("span",[t._v("女")]):1==e.row.gender?a("span",[t._v("男")]):t._e()]}}])},[t._v("1 ")]),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150"}}),a("el-table-column",{attrs:{prop:"order_type",label:"类别",width:"150"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"150"}}),a("el-table-column",{attrs:{prop:"place_name",label:"座位名称",width:"350"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v("待支付")]):2==e.row.status?a("span",[t._v("用户取消订单")]):3==e.row.status?a("span",[t._v("已支付")]):4==e.row.status?a("span",[t._v("已预订")]):5==e.row.status?a("span",[t._v("商家取消")]):6==e.row.status?a("span",[t._v("用户申请退款中")]):7==e.row.status?a("span",[t._v("用户退款失败")]):8==e.row.status?a("span",[t._v("消费中")]):9==e.row.status?a("span",[t._v("已结账")]):10==e.row.status?a("span",[t._v("退款成功")]):11==e.row.status?a("span",[t._v("商家同意退款")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"sale_staff_name",label:"销售员工",width:"150"}}),a("el-table-column",{attrs:{prop:"staff_name",label:"操作员工",width:"150"}}),a("el-table-column",{attrs:{prop:"total_deposit",label:"订金",width:"150"}}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.status?a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.reservationDialog1(e.row)}}},[t._v("确认预订")])],1):t._e(),a("div",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.reservationDialog2(e.row)}}},[t._v("取消预订")])],1)]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.curPage,"hide-on-single-page":!0,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.pageChange}})],1),a("el-dialog",{attrs:{title:"订单号"+t.YuDinData.order_no,visible:t.reservationtk1,width:"30%"},on:{"update:visible":function(e){t.reservationtk1=e}}},[a("span",[t._v("确认预定吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.reservationtk1=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeData1()}}},[t._v("确定")])],1)]),a("el-dialog",{attrs:{title:"订单号"+t.YuDinData.order_no,visible:t.reservationtk2,width:"30%"},on:{"update:visible":function(e){t.reservationtk2=e}}},[a("span",[t._v("取消预定吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.reservationtk2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeData2()}}},[t._v("确定")])],1)])],1)},s=[],n={name:"reserveData",data:function(){return{merchant_id:"",shop_id:"",phone:"",order:"",orderData:[{value:"ASC",name:"正序"},{value:"DESC",name:"倒序"}],status:"",statusData:[{id:1,name:"待支付"},{id:2,name:"用户取消订单"},{id:3,name:"已支付"},{id:4,name:"已预订"},{id:5,name:"商家取消"},{id:6,name:"用户申请退款中"},{id:7,name:"用户退款失败"},{id:8,name:"消费中"},{id:9,name:"已结账"},{id:10,name:"退款成功"},{id:11,name:"商家同意退款"}],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},start_time:"",end_time:"",curPage:1,total:1,reservationtk1:!1,reservationtk2:!1,YuDinData:[],searchValue:"",SJvalue:"",tableListData:[]}},created:function(){this.getTableList()},methods:{dateChange:function(t){t&&(this.start_time=t[0],this.end_time=t[1])},resetData:function(){this.SJvalue="",this.start_time="",this.end_time="",this.merchant_id="",this.shop_id="",this.phone="",this.order="",this.status="",this.curPage=1,this.getTableList()},screening:function(){this.curPage=1,this.getTableList()},getTableList:function(){var t=this,e={start_time:this.start_time,end_time:this.end_time,merchant_id:this.merchant_id,shop_id:this.shop_id,phone:this.phone,order:this.order,status:this.status,name:this.searchValue,page:this.curPage};this.api.reserve.getReserveList(e).then((function(e){t.tableListData=e.data.data,t.total=e.data.count}))},searchDatas:function(){this.curPage=1,this.getTableList()},reservationDialog1:function(t){this.reservationtk1=!0,this.YuDinData=t},reservationDialog2:function(t){this.reservationtk2=!0,this.YuDinData=t},changeData1:function(){var t=this,e={reserve_id:this.YuDinData.reserve_id};this.api.reserve.confirmReserve(e).then((function(e){t.getTableList(),t.reservationtk1=!1}))},changeData2:function(){var t=this,e={reserve_id:this.YuDinData.reserve_id};this.api.reserve.cancelReserver(e).then((function(e){t.getTableList(),t.reservationtk2=!1}))},pageChange:function(t){this.curPage=t,this.getTableList()}}},r=n,o=(a("d439"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"302a2f61",null);e["default"]=l.exports},d439:function(t,e,a){"use strict";var i=a("e1ad"),s=a.n(i);s.a},e1ad:function(t,e,a){}}]);
//# sourceMappingURL=chunk-692c1cc2.2b842bcc.js.map