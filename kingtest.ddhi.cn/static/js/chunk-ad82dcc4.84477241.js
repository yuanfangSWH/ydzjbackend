(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad82dcc4"],{"0fa2":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shopSet"},[a("div",{staticClass:"pageTitle"},[e._v(e._s(this._getVuex("pageTitle")))]),a("div",{staticClass:"add-box"},[a("el-button",{staticClass:"b-btn",attrs:{type:"success"},on:{click:e.insertItemtk}},[e._v("新增")])],1),a("el-table",{ref:"multipNum",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.tableListData,"tooltip-effect":"dark"},on:{"selection-change":e.selectItem}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"全选/选项ID",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.opt_id))])]}}])}),a("el-table-column",{attrs:{prop:"product_id",label:"苹果商品ID",width:"450"}}),a("el-table-column",{attrs:{prop:"amount",label:"充值金额",width:"250"}}),a("el-table-column",{attrs:{prop:"currency",label:"获得Y币",width:"250"}}),a("el-table-column",{attrs:{prop:"give",label:"赠送Y币",width:"250"}}),a("el-table-column",{attrs:{label:"启用赠送",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("span",[e._v("关闭")]):1==t.row.status?a("span",[e._v("启用")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.openUpdateDialog(JSON.parse(JSON.stringify(t.row)))}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.openDelDialog(t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.curPage,"hide-on-single-page":!0,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.pageChange}})],1),a("el-dialog",{attrs:{title:"新增",visible:e.insertDialog},on:{"update:visible":function(t){e.insertDialog=t}}},[a("el-form",{ref:"formName",staticClass:"updateArea",attrs:{model:e.addItem,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"苹果商品ID",prop:"product_id"}},[a("el-input",{attrs:{clearable:""},model:{value:e.addItem.product_id,callback:function(t){e.$set(e.addItem,"product_id",t)},expression:"addItem.product_id"}})],1),a("el-form-item",{attrs:{label:"充值金额",prop:"amount"}},[a("el-input",{attrs:{type:"Number",clearable:""},model:{value:e.addItem.amount,callback:function(t){e.$set(e.addItem,"amount",t)},expression:"addItem.amount"}})],1),a("el-form-item",{attrs:{label:"获得Y币",prop:"currency"}},[a("el-input",{attrs:{type:"Number",clearable:""},model:{value:e.addItem.currency,callback:function(t){e.$set(e.addItem,"currency",t)},expression:"addItem.currency"}})],1),a("el-form-item",{attrs:{label:"赠送Y币",prop:"give"}},[a("el-input",{attrs:{type:"Number",clearable:""},model:{value:e.addItem.give,callback:function(t){e.$set(e.addItem,"give",t)},expression:"addItem.give"}})],1),a("el-form-item",{attrs:{label:"启用赠送",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addItem.status,callback:function(t){e.$set(e.addItem,"status",t)},expression:"addItem.status"}},[a("el-option",{key:"0",attrs:{label:"关闭",value:0}}),a("el-option",{key:"1",attrs:{label:"启用",value:1}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.insertDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.validation(1)}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"修改-"+e.updateDialogTitle,visible:e.updateDialog},on:{"update:visible":function(t){e.updateDialog=t}}},[a("el-form",{ref:"formName",staticClass:"updateArea",attrs:{model:e.currenItem,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"苹果商品ID",prop:"product_id"}},[a("el-input",{attrs:{clearable:""},model:{value:e.currenItem.product_id,callback:function(t){e.$set(e.currenItem,"product_id",t)},expression:"currenItem.product_id"}})],1),a("el-form-item",{attrs:{label:"充值金额",prop:"amount"}},[a("el-input",{attrs:{type:"Number",clearable:""},model:{value:e.currenItem.amount,callback:function(t){e.$set(e.currenItem,"amount",t)},expression:"currenItem.amount"}})],1),a("el-form-item",{attrs:{label:"获得Y币",prop:"currency"}},[a("el-input",{attrs:{type:"Number",clearable:""},model:{value:e.currenItem.currency,callback:function(t){e.$set(e.currenItem,"currency",t)},expression:"currenItem.currency"}})],1),a("el-form-item",{attrs:{label:"赠送Y币",prop:"give"}},[a("el-input",{attrs:{type:"Number",clearable:""},model:{value:e.currenItem.give,callback:function(t){e.$set(e.currenItem,"give",t)},expression:"currenItem.give"}})],1),a("el-form-item",{attrs:{label:"启用赠送",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.currenItem.status,callback:function(t){e.$set(e.currenItem,"status",t)},expression:"currenItem.status"}},[a("el-option",{key:"0",attrs:{label:"关闭",value:0}}),a("el-option",{key:"1",attrs:{label:"启用",value:1}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.updateDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.validation(2)}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"删除-"+e.deltitle,visible:e.deleteDialog,width:"30%"},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("span",[e._v("确定要删除此项吗")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteItem("one")}}},[e._v("确定")])],1)]),a("el-dialog",{attrs:{title:"删除",visible:e.mutilDeleteDialog,width:"50%"},on:{"update:visible":function(t){e.mutilDeleteDialog=t}}},[a("span",{staticClass:"s-title"},[e._v("确定要删除以下内容吗?")]),e._l(e.nameArr,(function(t,l){return a("div",{key:l,staticClass:"gz-name"},[e._v(" "+e._s(t)+" ")])})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.mutilDeleteDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteItem("mutil")}}},[e._v("确定")])],1)],2)],1)},r=[],i=(a("4160"),a("a9e3"),a("159b"),{name:"currenPage",data:function(){return{updateDialog:!1,insertDialog:!1,mutilDeleteDialog:!1,deleteDialog:!1,curPage:1,total:1,rules:{product_id:[{required:!0,message:"请填写苹果商品ID",trigger:"blur"}],amount:[{required:!0,message:"请填写充值金额",trigger:"blur"}],currency:[{required:!0,message:"请填写获得Y币",trigger:"blur"}],give:[{required:!0,message:"请填写赠送Y币",trigger:"blur"}],status:[{required:!0,message:"请选择赠送状态",trigger:"blur"}]},tableListData:[],addItem:{status:1},currenItem:{},currenDeleteRow:"",multipleSelection:[],nameArr:[],updateDialogTitle:"",deltitle:""}},created:function(){this.getTableList()},methods:{getTableList:function(){var e=this;this.api.system.rechargeList("").then((function(t){e.tableListData=t.data.data,e.total=t.data.count}))},validation:function(e){var t=this;this.$refs["formName"].validate((function(a){if(!a)return!1;1==e?t.insertItem():t.multiUpdate()}))},insertItemtk:function(){this.insertDialog=!0},insertItem:function(){var e=this;this.addItem.amount=Number(this.addItem.amount),this.addItem.currency=Number(this.addItem.currency),this.addItem.give=Number(this.addItem.give);var t=this.addItem;this.api.system.rechargeInsert(t).then((function(t){e.$refs["formName"].resetFields(),e.$message({message:"添加成功",type:"success"}),e.getTableList(),e.insertDialog=!1}))},openUpdateDialog:function(e){this.updateDialog=!0,this.updateDialogTitle=e.product_id,this.currenItem=e},multiUpdate:function(){var e=this;this.currenItem.amount=Number(this.currenItem.amount),this.currenItem.currency=Number(this.currenItem.currency),this.currenItem.give=Number(this.currenItem.give);var t=this.currenItem;this.api.system.rechargeUpdate(t).then((function(t){e.$message({message:"修改成功",type:"success"}),e.getTableList(),e.updateDialog=!1}))},batchDelete:function(){""!=this.multipleSelection?this.mutilDeleteDialog=!0:this.$message({message:"请先勾选要删除的数据",type:"warning"})},openDelDialog:function(e){this.deltitle=e.product_id,this.currenDeleteRow=e,this.deleteDialog=!0},selectItem:function(e){var t=this;this.multipleSelection=[],this.nameArr=[],e.forEach((function(e,a){t.multipleSelection.push(e.opt_id),t.nameArr.push(e.product_id)}))},deleteItem:function(e){var t=this,a=new Array;a.push(this.currenDeleteRow.opt_id);var l="one"===e?a:this.multipleSelection,r={id:l};this.api.system.rechargeDelete(r).then((function(e){t.$message({message:"删除成功",type:"success"}),t.getTableList(),t.mutilDeleteDialog=!1,t.deleteDialog=!1}))},pageChange:function(e){this.curPage=e,this.getTableList()}}}),s=i,n=(a("cc9b"),a("2877")),o=Object(n["a"])(s,l,r,!1,null,"93fe9558",null);t["default"]=o.exports},cc9b:function(e,t,a){"use strict";var l=a("eb9a"),r=a.n(l);r.a},eb9a:function(e,t,a){}}]);
//# sourceMappingURL=chunk-ad82dcc4.84477241.js.map