(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-498b3182"],{"0c6f":function(t,e,a){},3868:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shopSet"},[a("filter-item",{attrs:{pickerOptions:t.pickerOptions,activeName:t.activeName,merchants:t.merchants},on:{filtrateFun:t.filtrateParent}}),a("reserve-table",{attrs:{tableListData:t.tableListData,activeName:t.activeName,merchants:t.merchants},on:{reserveChildren:t.sortReserveFun}}),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.curPage,"hide-on-single-page":!0,background:"",layout:"prev, pager, next","page-size":15,total:t.total},on:{"current-change":t.pageChange}})],1),a("el-dialog",{attrs:{title:"添加预定",visible:t.insertDialog},on:{"update:visible":function(e){t.insertDialog=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"到店时间",prop:"reserve_time"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期时间"},model:{value:t.ruleForm.reserve_time,callback:function(e){t.$set(t.ruleForm,"reserve_time",e)},expression:"ruleForm.reserve_time"}})],1),a("el-form-item",{attrs:{label:"客户手机",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入客户手机"},model:{value:t.ruleForm.phone,callback:function(e){t.$set(t.ruleForm,"phone",e)},expression:"ruleForm.phone"}})],1),a("el-form-item",{attrs:{label:"客户姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入客户姓名"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[[a("el-radio",{attrs:{label:"1"},model:{value:t.ruleForm.gender,callback:function(e){t.$set(t.ruleForm,"gender",e)},expression:"ruleForm.gender"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"},model:{value:t.ruleForm.gender,callback:function(e){t.$set(t.ruleForm,"gender",e)},expression:"ruleForm.gender"}},[t._v("女")])]],2),a("el-form-item",{attrs:{label:"座位",prop:"palceName"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入座位名称","trigger-on-focus":!1,clearable:""},on:{select:t.handleSelect,input:t.PlaceType},model:{value:t.palceName,callback:function(e){t.palceName=e},expression:"palceName"}})],1),a("el-form-item",{attrs:{label:"营销人员",prop:"staffName"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearchStaff,placeholder:"请输入营销人员名称","trigger-on-focus":!1,clearable:""},on:{select:t.handleSelectStaff},model:{value:t.staffName,callback:function(e){t.staffName=e},expression:"staffName"}})],1),a("el-form-item",{attrs:{label:"预定备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入备注信息"},model:{value:t.ruleForm.remark,callback:function(e){t.$set(t.ruleForm,"remark",e)},expression:"ruleForm.remark"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.insertDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.insertItem("ruleForm")}}},[t._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"排队详情",visible:t.updateDialog},on:{"update:visible":function(e){t.updateDialog=e}}},[a("div",{staticClass:"header-title",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"title-queueNo"},[t._v("排队号："+t._s(t.ruleForm.queue_no))])]),a("div",[a("div",{staticClass:"t-01"},[t._v("排队时间："+t._s(t.ruleForm.create_time))]),a("div",{staticClass:"t-01"},[t._v("位置类型："+t._s(t.ruleForm.place_type_name))])]),a("div",{staticClass:"de-box"},[a("div",{staticClass:"t-box2"},[a("img",{staticClass:"u-img",attrs:{src:t.ruleForm.user_avatar,alt:""}}),a("div",{staticClass:"box2-nav"},[a("div",{staticClass:"t-02"},[t._v(t._s(t.ruleForm.user_nickname))]),a("div",{staticClass:"t-02"},[t._v(t._s(t.ruleForm.phone))])])]),a("div",{staticClass:"t-box1"},[a("div",{staticClass:"t-01"},[t._v("预订金额："+t._s(t.ruleForm.total_deposit))]),a("div",{staticClass:"t-01"},[t._v("支付状态："+t._s(t.ruleForm.status))]),a("div",{staticClass:"t-01"},[t._v("支付时间："+t._s(t.ruleForm.finish_time))])])]),a("div",{staticClass:"zt-box"},[a("span",{staticClass:"s-01"},[t._v("状态：")]),0==t.ruleForm.status?a("span",[t._v("排队中")]):t._e(),1==t.ruleForm.status?a("span",[t._v("已到号")]):t._e(),2==t.ruleForm.status?a("span",[t._v("已过号")]):t._e(),3==t.ruleForm.status?a("span",[t._v("已退款")]):t._e()]),a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.ruleForm.status,expression:"ruleForm.status == 0"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.updataQueueFun(2,t.ruleForm.queue_id)}}},[t._v("过号")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updataQueueFun(1,t.ruleForm.queue_id)}}},[t._v("叫号")])],1)])],1)},r=[],l=(a("d81d"),a("b0c0"),a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-box"},[a("div",{staticClass:"so-nav"},[a("div",{staticClass:"so-box1"},[a("span",{staticClass:"s01"},[t._v("搜索")]),a("el-input",{staticClass:"so-ipt",attrs:{placeholder:"请输入订单编号或手机号","suffix-icon":"el-icon-search"},model:{value:t.soVal,callback:function(e){t.soVal=e},expression:"soVal"}})],1),a("div",{staticClass:"so-box1"},[a("span",{staticClass:"s01"},[t._v("时间")]),a("div",{},[a("el-date-picker",{staticClass:"datePicker",attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm"},on:{change:t.dateChange},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1)])]),a("div",{staticClass:"selectBox"},["first"==t.activeName?a("div",{staticClass:"zx-box1",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"queue-s01"},[t._v("类别")]),a("el-select",{staticClass:"se-nav",attrs:{placeholder:"请选择"},on:{change:t.showClass},model:{value:t.classvalue,callback:function(e){t.classvalue=e},expression:"classvalue"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),"third"==t.activeName?a("div",{staticClass:"zx-box1",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"queue-s01"},[t._v("座位")]),a("el-select",{staticClass:"se-nav",attrs:{filterable:"",placeholder:"请选择"},model:{value:t.placevalue,callback:function(e){t.placevalue=e},expression:"placevalue"}},t._l(t.placeArr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),"first"==t.activeName?a("div",{staticClass:"zx-box1"},[a("span",{staticClass:"queue-s01"},[t._v("状态")]),a("el-select",{staticClass:"se-nav",attrs:{placeholder:"请选择"},on:{change:t.showStatus},model:{value:t.statusvalue,callback:function(e){t.statusvalue=e},expression:"statusvalue"}},t._l(t.StatusArr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),"second"==t.activeName?a("div",{staticClass:"zx-box1"},[a("span",{staticClass:"queue-s01"},[t._v("状态")]),a("el-select",{staticClass:"se-nav",attrs:{placeholder:"请选择"},on:{change:t.showStatus},model:{value:t.statusvalue,callback:function(e){t.statusvalue=e},expression:"statusvalue"}},t._l(t.gbStatusArr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),"third"==t.activeName?a("div",{staticClass:"zx-box1"},[a("span",{staticClass:"queue-s01"},[t._v("状态")]),a("el-select",{staticClass:"se-nav",attrs:{placeholder:"请选择"},on:{change:t.showStatus},model:{value:t.statusvalue,callback:function(e){t.statusvalue=e},expression:"statusvalue"}},t._l(t.mealStatusArr,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e()]),a("div",{staticClass:"btnBox"},[a("span",[a("el-button",{staticClass:"sosuo",attrs:{type:"primary"},on:{click:t.filtrateFun}},[t._v("筛选")])],1),a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{staticClass:"sosuo",attrs:{type:"primary"}},[t._v("清空条件")])],1)])])}),i=[],o={name:"filterItem",props:{pickerOptions:Object,activeName:String,merchants:{shop_id:Number,merchant_id:Number}},data:function(){return{soVal:"",value2:"",classvalue:"",statusvalue:"",start_time:"",end_time:"",placevalue:"",options:[{value:"online",label:"线上"},{value:"offline",label:"线下"}],placeArr:[],StatusArr:[{value:"1",label:"待支付"},{value:"2",label:"用户取消订单"},{value:"3",label:"已支付"},{value:"4",label:"已预订"},{value:"5",label:"商家取消"},{value:"6",label:"用户申请退款中"},{value:"7",label:"用户退款失败"},{value:"8",label:"消费中"},{value:"9",label:"已结账"},{value:"10",label:"退款成功"}],gbStatusArr:[{value:"0",label:" 删除"},{value:"1",label:"未完成结算"},{value:"2",label:"已结算"},{value:"3",label:"挂账"},{value:"4",label:"清账"}],mealStatusArr:[{value:"1",label:"未完成结算"},{value:"2",label:"已结算"},{value:"3",label:"挂账签单"}]}},mounted:function(){this.getPlaceType()},methods:{getPlaceType:function(){var t=this,e={merchant_id:this.merchants.merchant_id,shop_id:this.merchants.shop_id,page_size:1e4};this.api.shop.getPlaceType(e).then((function(e){var a=[];e.data.data.map((function(t){a.push({value:t.type_id,label:t.name})})),t.placeArr=a}))},dateChange:function(t){t&&(this.start_time=t[0],this.end_time=t[1])},showClass:function(t){},showPlace:function(t){},showStatus:function(t){},filtrateFun:function(){this.$emit("filtrateFun",this.soVal,this.classvalue,this.statusvalue,this.start_time,this.end_time,this.placevalue)}}},n=o,u=(a("a3cc"),a("2877")),c=Object(u["a"])(n,l,i,!1,null,"360b4a48",null),h=c.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableListData,"tooltip-effect":"dark"},on:{"sort-change":t.sortFilterFun}},[a("el-table-column",{attrs:{prop:"order_no",label:"订单号",width:"250"}}),a("el-table-column",{attrs:{prop:"order_type",label:"类别",width:"150"}}),a("el-table-column",{attrs:{prop:"total_deposit",label:"金额",sortable:"custom",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.total_deposit/100))]}}])}),a("el-table-column",{attrs:{prop:"name",label:"用户名",width:"150"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"150"}}),a("el-table-column",{attrs:{prop:"reserve_time",label:"下单时间",sortable:"custom",width:"180"}}),a("el-table-column",{attrs:{prop:"place_name",label:"座位",width:"150"}}),a("el-table-column",{attrs:{prop:"place_type_name",label:"座位类型",width:"150"}}),a("el-table-column",{attrs:{prop:"sale_staff_name",label:"营销",width:"150"}}),a("el-table-column",{attrs:{prop:"staff_name",label:"操作员",width:"150"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v("待支付")]):t._e(),2==e.row.status?a("span",[t._v("用户取消订单（未支付或超时）")]):t._e(),3==e.row.status?a("span",[t._v("已支付（待审核）")]):t._e(),4==e.row.status?a("span",[t._v("已预订（锁定，商家审核通过）")]):t._e(),5==e.row.status?a("span",[t._v("商家取消（支付了，预定没过，商家未理）")]):t._e(),6==e.row.status?a("span",[t._v("用户申请退款中")]):t._e(),7==e.row.status?a("span",[t._v("用户退款失败（商家拒绝）")]):t._e(),8==e.row.status?a("span",[t._v("消费中（开了账单）")]):t._e(),9==e.row.status?a("span",[t._v("已结账（消费已完成，可评价）")]):t._e(),10==e.row.status?a("span",[t._v("退款成功（商家同意、超时没处理）")]):t._e()]}}])})],1)],1)},d=[],m={name:"reserveOrder",props:{tableListData:Array,activeName:String,merchants:{shop_id:Number,merchant_id:Number}},data:function(){return{sortVal:"",order:"asc",sortStatus:!1}},methods:{openUpdateDialog:function(t,e){this.$router.push({path:"/orderDatile",query:{reserve_id:e.reserve_id,i:t,shop_id:this.merchants.shop_id,merchant_id:this.merchants.merchant_id}})},sortMethod:function(t){this.sortVal=t,this.sortStatus=!this.sortStatus,this.sortStatus?this.order="asc":this.order="desc",this.$emit("reserveChildren",this.sortVal,this.order)},sortFilterFun:function(t){this.sortMethod(t.prop)}}},v=m,_=Object(u["a"])(v,p,d,!1,null,"50a7c920",null),f=_.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableListData,"tooltip-effect":"dark"},on:{"sort-change":t.sortFilterFun}},[a("el-table-column",{attrs:{prop:"order_no",label:"订单号",width:"250"}}),a("el-table-column",{attrs:{prop:"title",label:"名称",width:"150"}}),a("el-table-column",{attrs:{prop:"total_price",label:"金额",sortable:"custom",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.total_price/100)+" ")]}}])}),a("el-table-column",{attrs:{prop:"",label:"用户信息",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)),a("br"),t._v(t._s(e.row.phone)+" ")]}}])}),a("el-table-column",{attrs:{prop:"start_time",label:"下单时间",sortable:"custom",width:"180"}}),a("el-table-column",{attrs:{prop:"finish_time",label:"使用时间 ",sortable:"custom",width:"150"}}),a("el-table-column",{attrs:{prop:"end_time",label:"过期时间",sortable:"custom",width:"150"}}),a("el-table-column",{attrs:{prop:"staff_name",label:"操作员",width:"150"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v("已付款")]):t._e(),2==e.row.status?a("span",[t._v("已完成")]):t._e(),3==e.row.status?a("span",[t._v("商家已取消")]):t._e(),6==e.row.status?a("span",[t._v("退款中")]):t._e(),7==e.row.status?a("span",[t._v("已退款")]):t._e(),8==e.row.status?a("span",[t._v("退款拒绝")]):t._e()]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.openUpdateDialog(2,e.row)}}},[t._v("查看详情")])]}}])})],1)],1)},g=[],y={name:"packageOrder",props:{tableListData:Array,merchants:{shop_id:Number,merchant_id:Number}},data:function(){return{sortVal:"",order:"asc",sortStatus:!1}},methods:{openUpdateDialog:function(t,e){this.$router.push({path:"/groupBuyDetaile?group_buy_id="+e.id})},sortMethod:function(t){this.sortVal=t,this.sortStatus=!this.sortStatus,this.sortStatus?this.order="asc":this.order="desc",this.$emit("reserveChildren",this.sortVal,this.order)},sortFilterFun:function(t){this.sortMethod(t.prop)}}},w=y,F=Object(u["a"])(w,b,g,!1,null,"2c6e9073",null),S=F.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableListData,"tooltip-effect":"dark"},on:{"sort-change":t.sortFilterFun}},[a("el-table-column",{attrs:{prop:"bill_no",label:"订单号",width:"250"}}),a("el-table-column",{attrs:{prop:"place_name",label:"座位",width:"150"}}),a("el-table-column",{attrs:{prop:"total_amount",label:"总金额",sortable:"custom",width:"120"}}),a("el-table-column",{attrs:{prop:"pay_amount",label:"实收金额",sortable:"custom",width:"150"}}),a("el-table-column",{attrs:{prop:"",label:"用户信息",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.nickname)+" "),a("br"),t._v(" "+t._s(e.row.user_phone)+" ")]}}])}),a("el-table-column",{attrs:{prop:"start_time",label:"下单时间",sortable:"custom",width:"180"}}),a("el-table-column",{attrs:{prop:"sale_staff_name",label:"营销",width:"150"}}),a("el-table-column",{attrs:{prop:"staff_name",label:"操作员",width:"150"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("span",[t._v("删除")]):t._e(),1==e.row.status?a("span",[t._v("未完成结算")]):t._e(),2==e.row.status?a("span",[t._v("已结算")]):t._e(),3==e.row.status?a("span",[t._v("挂账")]):t._e(),4==e.row.status?a("span",[t._v("清账")]):t._e()]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.openUpdateDialog(e.row)}}},[t._v("查看详情")])]}}])})],1)],1)},C=[],x={name:"mealTable",props:{tableListData:Array,merchants:{shop_id:Number,merchant_id:Number}},data:function(){return{sortVal:"",order:"asc",sortStatus:!1}},methods:{openUpdateDialog:function(t){this.$router.push({path:"/billDetail",query:{bill_id:t.bill_id,shop_id:this.merchants.shop_id,merchant_id:this.merchants.merchant_id}})},sortMethod:function(t){this.sortVal=t,this.sortStatus=!this.sortStatus,this.sortStatus?this.order="asc":this.order="desc",this.$emit("reserveChildren",this.sortVal,this.order)},sortFilterFun:function(t){this.sortMethod(t.prop)}}},D=x,N=Object(u["a"])(D,k,C,!1,null,"1f65dc62",null),L=N.exports,T={name:"currenPage",components:{filterItem:h,reserveTable:f,packageOrder:S,mealTable:L},data:function(){var t=this,e=function(e,a,s){if(!a)return s(new Error("请输入手机号码"));setTimeout((function(){t.mobileReg.test(a)?(s(),t.uStatus=!0):s(new Error("请输入正确的手机号码"))}),200)};return{merchants:{shop_id:0,merchant_id:0},pageSign:0,uStatus:!1,mobileReg:/^1[3-9][0-9]{9}$/,soVal:"",updateDialog:!1,insertDialog:!1,curPage:1,total:10,tableListData:[],value:"",ruleForm:{shop_id:0,merchant_id:0,place_id:"",name:"",reserve_time:"",phone:"",gender:"1",sale_staff_id:"",remark:""},rules:{reserve_time:[{required:!0,message:"请选择预定时间",trigger:"change"}],phone:[{required:!0,validator:e,trigger:"blur"}],place_id:[{required:!0,message:"请选择预定座位",trigger:"change"}]},user_nickname:"",placeTypeArr:[],sortStatus:!1,statusArr:[{text:"排队中",value:"0"},{text:"已到号",value:"1"},{text:"已过号",value:"2"},{text:"已退款",value:"3"}],order:"asc",sortVal:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},value2:"",activeName:"first",restaurants:[],PlaceTypeData:[],palceName:"",staffName:"",staffarr:[],type_id:"",isReserve:!1}},created:function(){var t=this;if(this.$route.query.shop_id&&this.$route.query.merchant_id)this.merchants.shop_id=Number(this.$route.query.shop_id),this.merchants.merchant_id=Number(this.$route.query.merchant_id),this.$store.dispatch("updateVuex",{key:"merchantsData",value:this.merchants});else{var e=this.$store.state.merchantsData;this.merchants.shop_id=Number(e.shop_id),this.merchants.merchant_id=Number(e.merchant_id)}this.ruleForm.shop_id=this.merchants.shop_id,this.ruleForm.merchant_id=this.merchants.merchant_id,this.shopType((function(){t.getTableList()})),this.PlaceType(),this.staffList()},computed:{pageTitle:function(){return this._getVuex("pageTitle")}},methods:{shopType:function(t){var e=this,a={merchant_id:this.merchants.merchant_id,shop_id:this.merchants.shop_id};this.api.shop.getShopDetail(a).then((function(a){e.type_id=a.data.data.type_id,t()}))},getTableList:function(t){var e=this;this.pageSign=0;var a={merchant_id:this.merchants.merchant_id,shop_id:this.merchants.shop_id,page:this.curPage};this.api.reserve.getReserveList(a).then((function(t){e.tableListData=t.data.data,e.total=t.data.count}))},getGroupBuyList:function(){var t=this;this.pageSign=0;var e={page:this.curPage};this.api.reserve.getGroupBuyList(e).then((function(e){t.tableListData=e.data.data,t.total=e.data.count}))},getBillList:function(t){var e=this;this.pageSign=0;var a={merchant_id:this.merchants.merchant_id,shop_id:this.merchants.shop_id,page:this.curPage};this.api.reserve.getBillList(a).then((function(t){e.tableListData=t.data.data,e.total=t.data.count}))},sortReserveFun:function(t,e){this.pageSign=5;var a={merchant_id:this.merchants.merchant_id,shop_id:this.merchants.shop_id,page:this.curPage,sort:t,order:e};"first"==this.activeName?this.getTableList(a):"second"==this.activeName&&this.getBillList(a)},filtrateParent:function(t,e,a,s,r,l){this.pageSign=6;var i={};"first"==this.activeName?(i={merchant_id:this.merchants.merchant_id,shop_id:this.merchants.shop_id,page:this.curPage,query:t,order_type:e,status:a,start_time:s,end_time:r},this.getTableList(i)):"second"==this.activeName&&(i={page:this.curPage,query:t,status:a,start_time:s,end_time:r,place_id:l},this.getBillList(i))},handleClick:function(t,e){"first"==this.activeName?this.getTableList():"second"==this.activeName&&this.getBillList()},querySearch:function(t,e){var a=this.restaurants;e(a)},handleSelect:function(t){this.ruleForm.place_id=t.id},PlaceType:function(){var t=this,e={merchant_id:this.merchants.merchant_id,shop_id:this.merchants.shop_id,page_size:1e4};this.api.shop.getPlaceType(e).then((function(e){var a=[];e.data.data.map((function(t){a.push({value:t.name,id:t.type_id})})),t.restaurants=a}))},querySearchStaff:function(t,e){var a=this.staffarr;e(a)},handleSelectStaff:function(t){this.ruleForm.sale_staff_id=t.id},staffList:function(){var t=this,e={merchant_id:this.merchants.merchant_id,shop_id:this.merchants.shop_id,page_size:0};this.api.staff.userList(e).then((function(e){var a=[];e.data.data.map((function(t){a.push({value:t.staff_name,id:t.staff_id})})),t.staffarr=a}))},addOpen:function(){this.insertDialog=!0},insertItem:function(t){var e=this;this.ruleForm.gender=Number(this.ruleForm.gender);var a=this.ruleForm;this.api.reserve.submitReserve(a).then((function(a){e.getTableList(),e.insertDialog=!1,e.$refs[t].resetFields()}))},updataQueueFun:function(t,e){var a=this,s={queue_id:e,status:t};this.api.reserve.updateQueue(s).then((function(t){a.getTableList(),a.updateDialog=!1}))},showGuohao:function(t){var e=this;this.pageSign=2;var a={page:this.curPage,page_size:t,status:2};this.api.reserve.getQueueList(a).then((function(t){e.tableListData=t.data.data,e.total=t.data.count}))},openUpdateDialog:function(t,e){this.ruleForm=e,this.updateDialog=!0},pageChange:function(t){this.curPage=t,0==this.pageSign?this.getTableList():1==this.pageSign?this.seachFun():2==this.pageSign?this.showGuohao():3==this.pageSign?this.filterGetPlacetypeGoods():4==this.pageSign?this.filterGetStatusGoods():5==this.pageSign?this.sortDataFun():6==this.pageSign&&this.filtrateParent()},seachFun:function(){var t=this;this.pageSign=1;var e={page:this.curPage,query:this.soVal};this.api.reserve.getQueueList(e).then((function(e){t.tableListData=e.data.data,t.total=e.data.count}))}}},$=T,q=(a("f172"),Object(u["a"])($,s,r,!1,null,"dea7c8ca",null));e["default"]=q.exports},"75f5":function(t,e,a){},a3cc:function(t,e,a){"use strict";var s=a("0c6f"),r=a.n(s);r.a},f172:function(t,e,a){"use strict";var s=a("75f5"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-498b3182.cbab0d28.js.map