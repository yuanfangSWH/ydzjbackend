(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60f0f816"],{"3ed9":function(e,t,i){},b680:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("div",{staticClass:"shopSet"},[i("div",{staticClass:"pageTitle"},[e._v(e._s(this._getVuex("pageTitle")))]),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipNum",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.tableListData,"tooltip-effect":"dark"},on:{"selection-change":e.selectItem,"sort-change":e.handleDataSort}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"article_id",label:"ID"}}),i("el-table-column",{attrs:{prop:"title",label:"标题"}}),i("el-table-column",{attrs:{prop:"create_time",label:"更新时间"}}),i("el-table-column",{attrs:{prop:"sort",label:"排序"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.sortingid?i("el-input",{ref:"saveTagInput",staticClass:"input_pxcss",on:{blur:function(i){e.percentF(JSON.parse(JSON.stringify(t.row)),t.$index)}},model:{value:t.row.sort,callback:function(i){e.$set(t.row,"sort",i)},expression:"scope.row.sort"}}):i("div",{staticClass:"muzhicss",on:{click:function(i){e.khaki(t.$index,JSON.parse(JSON.stringify(t.row)))}}},[i("span",[e._v(e._s(t.row.sort))])])]}}])}),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==e.searchOption.is_delete?i("div",[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){return e.handleOpenArticle(t.row.article_id)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return e.deleteData(t.row.article_id)}}},[e._v("删除")])],1):e._e(),1==e.searchOption.is_delete?i("div",[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){return e.recoveryData(t.row.article_id)}}},[e._v("还原")]),i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){return e.handleOpenArticle(t.row.article_id)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(i){return e.realDelData(t.row.article_id)}}},[e._v("彻底删除")])],1):e._e()]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{"current-page":e.searchOption.page,"hide-on-single-page":!0,background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.pageChange}})],1)],1)])},r=[],n=(i("4160"),i("b0c0"),i("a9e3"),i("159b"),i("2ef0"),{name:"SystemYD",data:function(){return{sortData:"",sortingid:"",searchOption:{type:3,keyword:"",sort:"",order:"",page:1,start_time:"",end_time:"",is_delete:0},multipleSelection:[],searchTime:["",""],total:1,tableListData:[],articleData:{article_id:0,class_id:0,class_name:"",content:"",create_time:"",delete_time:"",image:"",modify_time:"",status:0,summary:"",title:"",type:3,url:"",view_count:0},detailsData:{push_id:"",title:"",content:"",image:"",url:"",target:"1",target_sex:0,target_os:0,target_ver:"",send_time:""},target_sex:[],target_os:[],rules:{title:[{required:!0,message:"请输入推送标题",trigger:"blur"}],content:[{required:!0,message:"请输入推送内容",trigger:"blur"}],url:[{required:!0,message:"请输入链接",trigger:"blur"}]},loading:!1,sortableList:{ascending:"asc",descending:"desc",asc:"ascending",desc:"descending"},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i,t])}}]}}},created:function(){this.iniPageParam(),this.getTableList()},watch:{$route:function(e,t){this.iniPageParam(),this.getTableList()}},methods:{khaki:function(e,t){var i=this;this.sortingid=e,this.sortData=t.sort,this.$nextTick((function(){i.$refs.saveTagInput.focus()}))},percentF:function(e,t){var i=this;if(this.sortData!=e.sort){var a=e;a.sort=Number(a.sort),this.api.articleManage.editArticle(a).then((function(e){0==e.data.code?(i.sortingid="",i.$message({message:"修改排序成功",type:"success"})):(i.tableListData[t].sort=i.sortData,i.$message({message:"修改排序失败",type:"warning"}))}))}else this.sortingid=""},iniPageParam:function(){this.searchOption={type:3,keyword:this.$route.query.keyword?decodeURIComponent(this.$route.query.keyword):"",user:this.$route.query.user,sort:this.$route.query.sort,order:this.$route.query.order,page:this.$route.query.page?Number(this.$route.query.page):1,start_time:this.$route.query.start_time,end_time:this.$route.query.end_time,is_delete:this.$route.query.is_delete?Number(this.$route.query.is_delete):0},this.searchTime[0]=this.$route.query.start_time?this.$route.query.start_time:"",this.searchTime[1]=this.$route.query.end_time?this.$route.query.end_time:""},selectItem:function(e){var t=this;this.multipleSelection=[],this.nameArr=[],e.forEach((function(e,i){t.multipleSelection.push(e.article_id),t.nameArr.push(e.name)}))},handleDataSort:function(e){this.searchOption.sort=e.order?e.prop:"",this.searchOption.order=e.order?this.sortableList[e.order]:"",this.searchOption.page=1,this.pageChange()},handleNewArticle:function(){this.$router.push({path:"/articleGuide"})},handleOpenArticle:function(e){this.$router.push({path:"/articleGuide",query:{id:e}})},dateChange:function(e){e&&(this.searchOption.start_time=e[0],this.searchOption.end_time=e[1])},handleDataDelete:function(e){this.searchOption={type:3,keyword:"",sort:"",order:"",page:1,start_time:"",end_time:"",is_delete:e},this.searchTime=[],this.pageChange()},resetData:function(){this.searchOption={keyword:"",sort:"",order:"",page:1,start_time:"",end_time:"",is_delete:0},this.searchTime=[],this.pageChange()},screening:function(){this.searchOption.page=1,this.pageChange()},getTableList:function(){var e=this,t=this.searchOption;this.loading=!0,this.api.articleManage.articleList(t).then((function(t){e.loading=!1,e.tableListData=t.data.data,e.total=t.data.count}))},deleteData:function(e){Number(e)>0&&(this.multipleSelection=[],this.multipleSelection.push(e),this.$refs.multipNum.clearSelection()),this.multipleSelection.length>0?this.deleteConfirm():this.$message.error("请勾选数据")},deleteConfirm:function(){var e=this;this.multipleSelection.length>0&&this.$confirm("确定要删除吗？","提示").then((function(){var t={id:e.multipleSelection};e.api.articleManage.delArticle(t).then((function(t){t.data;e.getTableList()}))})).catch((function(){}))},recoveryData:function(e){Number(e)>0&&(this.multipleSelection=[],this.multipleSelection.push(e),this.$refs.multipNum.clearSelection()),this.multipleSelection.length>0?this.recoveryDataConfirm():this.$message.error("请勾选数据")},recoveryDataConfirm:function(){var e=this;this.multipleSelection.length>0&&this.$confirm("确定要还原吗？","提示").then((function(){var t={id:e.multipleSelection};e.api.articleManage.recoveryArticle(t).then((function(t){t.data;e.getTableList()}))})).catch((function(){}))},realDelData:function(e){Number(e)>0&&(this.multipleSelection=[],this.multipleSelection.push(e),this.$refs.multipNum.clearSelection()),this.multipleSelection.length>0?this.realDelDataConfirm():this.$message.error("请勾选数据")},realDelDataConfirm:function(){var e=this;this.multipleSelection.length>0&&this.$confirm("确定要彻底删除吗？","提示").then((function(){var t={id:e.multipleSelection};e.api.articleManage.realDelArticle(t).then((function(t){t.data;e.getTableList()}))})).catch((function(){}))},pageChange:function(e){e&&(this.searchOption.page=e);var t=Object.assign({},this.searchOption);t.keyword=t.keyword?encodeURIComponent(t.keyword):"",this.$router.push({path:"/article/set",query:t})}}}),s=n,o=(i("f467"),i("2877")),l=Object(o["a"])(s,a,r,!1,null,"330116a0",null);t["default"]=l.exports},f467:function(e,t,i){"use strict";var a=i("3ed9"),r=i.n(a);r.a}}]);
//# sourceMappingURL=chunk-60f0f816.f2d4da38.js.map